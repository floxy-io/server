<!DOCTYPE html>
<html>
<head>
    <title>Floxy</title>
    <script src="/basic.js"></script>
    <script src="/fire.js"></script>
    <link rel="stylesheet" href="/basic.css">
    <link rel="stylesheet" href="/fire.css">
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;1,100&display=swap" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LeUMCMaAAAAABmP3FZtGTOFcGDgpGR0Z0pI7j2R&data-theme=dark"></script>
    <script src="/flow.js"></script>


</head>
<body>
    <canvas id='canvas'></canvas>

    <div id="home" style="display: flex;width: 100%;height: 100%;justify-content: center;align-items: center;padding: 15px;">
        <div>
            <h1>Floxy</h1>
            <h3 style="margin-top: -1em;">Free and no installation<code>tunneling</code>connection</h3>
            <h3 style="margin-top: -0.5em;">use your own terminal ssh and floxy service</h3>
            <h3 style="margin-top: -0.5em;">to connect everything</h3>
            <h4 style="text-align: center">Choose between:</h4>
            <h3 style="text-align: center"><a onclick="submit('c2s')">client-2-server</a> or <a onclick="submit('w2s')">web-2-server</a></h3>
        </div>
    </div>

    <div id="c2sPage" style="margin: 2em">

        <div>
            <h3 style="text-align: center">Use <code>Floxy</code> to connect 2 devices peer 2 peer:</h3>
        </div>

        <div class="window">
            <div class="bar">
                <div class="btn">
                </div>
                <div style="text-align: center">server terminal</div>
            </div>
            <div class="windowBody">
                <div class="comment"># select the target server port, example port 8080</div>
                <div class="prompt">$ <span class="command port8080Example">PORT=8080</span><a class="copyCmd" onclick="copyText('.port8080Example')"> (copy)</a></div>
                <div class="comment"># run this command to connect server</div>
                <div class="comment"># use the password bellow to authenticate on floxy</div>
                <div class="prompt">$ <span class="command serverPlaceholder copy_83763"></span><a class="copyCmd" onclick="copyText('.copy_83763')"> (copy)</a></div>
                <div class="prompt">password: <span class="command passwordPlaceholder"></span><a class="copyCmd" onclick="copyText('#passwordPlaceholder')"> (copy)</a></div>
            </div>
        </div>

        <div class="window">
            <div class="bar">
                <div class="btn">
                </div>
                <div style="text-align: center">client terminal</div>
            </div>
            <div class="windowBody">
                <div class="comment"># select the target server port, example port 1323</div>
                <div class="prompt">$ <span class="command port1323Example">PORT=1323</span><a class="copyCmd" onclick="copyText('.port1323Example')"> (copy)</a></div>
                <div class="comment"># run the command generated in the server side</div>
                <div class="comment"># use the password bellow to authenticate on floxy</div>
                <div class="prompt">$ <span class="command" id="localPlaceholder"></span><a class="copyCmd" onclick="copyText('#localPlaceholder')"> (copy)</a></div>
                <div class="prompt">password: <span class="command passwordPlaceholder" id="passwordPlaceholder"></span><a class="copyCmd" onclick="copyText('#passwordPlaceholder')"> (copy)</a></div>
            </div>
        </div>
    </div>

    <div id="w2sPage" style="margin: 2em">

        <div>
            <h3 style="text-align: center">Use <code>Floxy</code> to connect 1 device over the internet:</h3>
        </div>

        <div class="window">
            <div class="bar">
                <div class="btn">
                </div>
                <div style="text-align: center">server terminal</div>
            </div>
            <div class="windowBody">
                <div class="comment"># select the target server port, example port 8080</div>
                <div class="prompt">$ <span class="command">PORT=8080</span><a class="copyCmd" onclick="copyText('.port8080Example')"> (copy)</a></div>
                <div class="comment"># run this command to connect server</div>
                <div class="comment"># use the password bellow to authenticate on floxy</div>
                <div class="prompt">$ <span class="command serverPlaceholder copy_90"></span><a class="copyCmd" onclick="copyText('.copy_90')"> (copy)</a></div>
                <div class="prompt">password: <span class="command passwordPlaceholder"></span><a class="copyCmd" onclick="copyText('#passwordPlaceholder')"> (copy)</a></div>
            </div>
        </div>

        <div class="window">
            <div class="bar">
                <div class="btn">
                </div>
                <div style="text-align: center">client terminal</div>
            </div>
            <div class="windowBody">
                <div class="comment"># make a curl test:</div>
                <div class="prompt">$ <span class="command domainCopy">curl <span class="domainPlaceholder"></span></span><a class="copyCmd" onclick="copyText('.domainCopy')"> (copy)</a></div>
            </div>
        </div>
    </div>

    <div id="clientServer" style="margin: 2em">

        <div>
            <h3 style="text-align: center">Use <code>Floxy</code> to connect 2 devices peer 2 peer:</h3>
        </div>

        <div class="window">
            <div class="bar">
                <div class="btn">
                </div>
                <div style="text-align: center">server terminal</div>
            </div>
            <div class="windowBody">
                <div class="comment"># run this command to generate a floxy spot</div>
                <div class="prompt">$ <span class="command">curl curl --location --request POST 'https://floxy.io/api/s2s'</span></div>
                <div class="prompt"><span class="command">--header 'Content-Type: application/json'</span></div>
                <div class="comment"></div>
                <div class="comment">{</div>
                <div class="comment" style="margin-left: 20px">"server_command": "ssh -N -R 52443:localhost:$PORT ssh.floxy.io",</div>
                <div class="comment" style="margin-left: 20px">"client_command": "ssh -N -L localhost:$PORT:52443 ssh.floxy.io",</div>
                <div class="comment" style="margin-left: 20px">"password": "hcbdyekkc84jcnc809&5$bndjjk",</div>
                <div class="comment" style="margin-bottom: 15px">}</div>
                <div class="comment"># use the server command bellow:</div>
                <div class="prompt">$ <span class="command">ssh -N -R 52443:localhost:$PORT ssh.floxy.io</span></div>
            </div>
        </div>

        <div class="window">
            <div class="bar">
                <div class="btn">
                </div>
                <div style="text-align: center">client terminal</div>
            </div>
            <div class="windowBody">
                <div class="comment"># run the command generated in the server side</div>
                <div class="prompt">$ <span class="command">ssh -N -L localhost:$PORT:52443 ssh.floxy.io</span></div>
            </div>
        </div>
    </div>


    <div id="noLinkSharePage">
        <div style="padding: 15px;text-align: center;">
            <h2>ops, sorry!</h2>
        </div>
        <div style="display: block;padding: 25px;text-align: center; margin-top: -4em">
            <h3>
                there isn't any link here!
            </h3>
            <a onclick="goToHome()">back to homepage</a>
        </div>
    </div>



    <div id="aboutPage">
        <div style="padding: 15px;text-align: center;">
            <h2>About it.</h2>
        </div>
        <div style="display: flex;padding: 15px;">
            <p>
                When devices are deployed behind restricted firewalls at remote sites,
                you need a way to gain access to those device for troubleshooting, configuration updates,
                and other operational tasks. Secure tunneling helps customers establish bidirectional communication
                to remote devices over a secure connection that is managed by AWS IoT.
            </p>
        </div>
        <div style="display: flex;padding: 15px;">
            <p>
                Secure tunneling does not require updates to your existing inbound firewall rule,
                so you can keep the same security level provided by firewall rules at a remote site.
                Some good examples bellow:
            </p>
        </div>

        <div style="display: block;padding: 15px;text-align: left;">
            <p><code>></code>great for developers that has needs to expose a service or preview a feature to other peer.</p>
            <p><code>></code>great for raspberry's owners that need a security access to your device over the internet.</p>
            <p><code>></code>great shortcut to access features from old VMs (like DB connections, or other services provided by then</p>
        </div>

        <div style="display: block;padding: 15px;">
            <h3>Frequent questions</h3>
            <p><b>It's really secure?</b> Yes! The binary is unique, and only available to download for
                few minutes. After that we remove it from server.
            </p>
            <p><b>What is binary made of?</b>
                The binary contains a fingerprint, a ssh address to connect to our server, and
                a private key (created on burning time). Both local and remote binary share the same
                private key and fingerprint to close connection between each other.
            </p>
            <p><b>If I leak the local binary, everybody can access the remote?</b>
                Yes! You have to take cautions to do not leak this binary. Only delivery to people
                of your trust. In floxy service side, this binary only remains for 10 minutes after
                creation, after that, It wont be available to download anymore.
            </p>
            <p><b>The binary private key is persisted on server?</b>
                No! The private key is created in program memory, and only remains during binary creation.
                After that, no trace of private key exists in our side. We only persist the public key to
                identify each binary
            </p>
            <p><b>Service is free?</b>
                Yes, it's totally free, and no login required. The binary has a lifetime, and during that,
                you can use it, and share!
            </p>
            <p><b>Can I use it to productive cases?</b>
                No! This service is only for developing purpose, don't use it for productive case.
                We don't guarantee high uptime on our server. There isn't any load balancing strategy on
                Floxy services, so it can fail in long duration connections.
            </p>
            <p><b>Floxy is open source?</b>
                Not yet! For security reasons we didn't provide our code yet.
            </p>
            <p><b>For bugs How can I contact floxy?</b>
                This is your github issues channel! =)
            </p>
        </div>
    </div>

    <div id="burningPage" style="display: flex;width: 100%;height: 100%;justify-content: center;align-items: center;padding: 15px;">
        <div id="burnInProcess" style="display: block">
            <h3>Wait! We are generating a key</h3>
        </div>
        <div id="burnNotApprove" style="display: none">
            <h3>We couldn't approve this captcha</h3>
        </div>
        <div id="binGenerationError" style="display: none">
            <h3>Internal error generating bin, try again later. =(</h3>
        </div>
    </div>

</body>

</html>
