<!DOCTYPE html>
<html>
<head>
    <title>Floxy</title>
    <script src="/basic.js"></script>
    <script src="/fire.js"></script>
    <link rel="stylesheet" href="/basic.css">
    <link rel="stylesheet" href="/fire.css">
    <link rel="icon" href="/favicon.ico">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;1,100&display=swap" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LeUMCMaAAAAABmP3FZtGTOFcGDgpGR0Z0pI7j2R&data-theme=dark"></script>
    <script src="/flow.js"></script>

</head>
<body>
    <canvas id='canvas'></canvas>

    <div id="home" style="display: flex;width: 100%;height: 100%;justify-content: center;align-items: center;padding: 15px;">
        <div>
            <h1>Floxy</h1>
            <h3 style="margin-top: -1em;">High security<code>tunneling</code>connection</h3>
            <h4 style="text-align: center"><strong>Free</strong> and simple service that allows <code>private</code> end-to-end <code>secure connection over the internet</code></h4>
            <h3 style="text-align: center"><a onclick="toAboutpage()">more about</a> | <a onclick="toBurnpage()">Let's start</a></h3>
        </div>
    </div>

    <div id="burnPage">
        <div style="padding: 15px;text-align: center;">
            <h2>Great, let's do it!</h2>
        </div>
        <div style="display: flex;padding: 15px;text-align: center;">
            <p>Floxy is based on ssh tunneling by creating an unique binary and
                async certificate to connect a local and remote PC. <code>No login required</code>, only 3 questions
                to burn the binary:
            </p>
        </div>
        <div style="display: flex;padding: 15px; flex-wrap: wrap; justify-content: center;">
            <div style="text-align: center; padding: 1em;">
                <h2><a onclick="goToFormPage()">start!</a></h2>
            </div>
        </div>
    </div>

    <div id="formPage" style="display: flex;width: 100%;height: 100%;justify-content: center;align-items: center;padding: 15px;flex-direction: column;flex-wrap: wrap;">
        <div style="text-align: center; padding: 1em;">
            <h3 style="margin-bottom: -0.5em">binary expiration: </h3>
            <span><h3 class="noselect"><a id="binaryExpSelector" onclick="binaryExpSelector()">select</a></h3></span>
        </div>
        <div style="text-align: center; padding: 1em;">
            <h3 style="margin-bottom: -0.5em">local distro: </h3>
            <span><h3 class="noselect"><a id="localDistroSelector" onclick="localDistroSelector()">select</a></h3></span>
        </div>
        <div style="text-align: center; padding: 1em;">
            <h3 style="margin-bottom: -0.5em">remote distro: </h3>
            <span><h3 class="noselect"><a id="remoteDistroSelector" onclick="remoteDistroSelector()">select</a></h3></span>
        </div>
        <div style="text-align: center; padding: 1em;">
            <span><h3 id="burnButton" class="noselect disabled"><a onclick="submit()">BURN</a></h3></span>
            <div id="tmpRec"></div>
        </div>

    </div>



    <div id="aboutPage">
        <div style="padding: 15px;text-align: center;">
            <h2>About it.</h2>
        </div>
        <div style="display: flex;padding: 15px;">
            <p>
                When devices are deployed behind restricted firewalls at remote sites,
                you need a way to gain access to those device for troubleshooting, configuration updates,
                and other operational tasks. Secure tunneling helps customers establish bidirectional communication
                to remote devices over a secure connection that is managed by AWS IoT.
            </p>
        </div>
        <div style="display: flex;padding: 15px;">
            <p>
                Secure tunneling does not require updates to your existing inbound firewall rule,
                so you can keep the same security level provided by firewall rules at a remote site.
                Some good examples bellow:
            </p>
        </div>

        <div style="display: flex;padding: 15px;text-align: center;">
            <p><code>></code></p>
        </div>
    </div>

    <div id="burning" style="display: flex;width: 100%;height: 100%;justify-content: center;align-items: center;padding: 15px;">
        <div id="burnInProcess" style="display: block">
            <h3>Wait! We are burning a new Floxy Binary</h3>
        </div>
        <div id="burnNotApprove" style="display: none">
            <h3>We couldn't approve this captcha</h3>
        </div>
        <div id="binGenerationError" style="display: none">
            <h3>Internal error generating bin, try again later. =(</h3>
        </div>
    </div>

    <div id="sharePage">
        <div style="padding: 15px;text-align: center;">
            <h2>download & share!</h2>
        </div>
        <div style="display: block;padding: 25px;">
            <p><a class="copyLink" href="#">click here</a>
                to download file on local and remote. After download, execute
                the command bellow on each computer:
            </p>
            <p><code>local>./floxyL -h {{host:ip}}</code></p>
            <p><code class="remoteCode">remote>./floxyR -h {{host:ip}}</code></p>
            <p style="text-align: center">
                for security reason, the <a class="copyLink" href="#">download link</a> will expire in
            </p>
            <p style="text-align: center" id="shareExpSecurity"></p>
            <p style="text-align: center">
                thanks for using floxy!
            </p>
        </div>
    </div>

    <div id="noLinkSharePage">
        <div style="padding: 15px;text-align: center;">
            <h2>ops, sorry!</h2>
        </div>
        <div style="display: block;padding: 25px;text-align: center">
            <p>
                there isn't any link here!
            </p>
        </div>
    </div>

</body>

</html>
